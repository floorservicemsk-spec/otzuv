# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ database.sql

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏–º–ø–æ—Ä—Ç–µ `database.sql` –≤–æ–∑–Ω–∏–∫–∞–ª–∏ –æ—à–∏–±–∫–∏:

```
#1304 - PROCEDURE cleanup_expired_sessions already exists
Unrecognized statement type. (near "END" at position 101)
```

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫.

### –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

1. **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è**
   ```sql
   DROP PROCEDURE IF EXISTS cleanup_expired_sessions$$
   DROP TRIGGER IF EXISTS after_user_insert$$
   DROP VIEW IF EXISTS user_stats;
   ```

2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**
   ```sql
   SET FOREIGN_KEY_CHECKS = 0;
   
   DROP TABLE IF EXISTS `activity_logs`;
   DROP TABLE IF EXISTS `sessions`;
   DROP TABLE IF EXISTS `form_submissions`;
   DROP TABLE IF EXISTS `form_integrations`;
   DROP TABLE IF EXISTS `form_design`;
   DROP TABLE IF EXISTS `users`;
   
   SET FOREIGN_KEY_CHECKS = 1;
   ```

3. **EVENT —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å**
   ```sql
   CREATE EVENT IF NOT EXISTS cleanup_sessions_event
   ```

---

## üöÄ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:

### ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω–æ
```bash
mysql -u warranty_user -p warranty_saas < database.sql
```

### ‚úÖ –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
mysql -u root -p -e "DROP DATABASE IF EXISTS warranty_saas;"
mysql -u root -p -e "CREATE DATABASE warranty_saas CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
mysql -u warranty_user -p warranty_saas < database.sql
```

### ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã
–ü—Ä–æ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–Ω–æ–≤–∞ - —Å—Ç–∞—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∏ —Å–æ–∑–¥–∞–Ω—ã –∑–∞–Ω–æ–≤–æ.

---

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:

1. **–°–æ–∑–¥–∞—ë—Ç—Å—è –±–∞–∑–∞** (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
2. **–û—Ç–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π** (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è)
3. **–£–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å—Ç–∞—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã** (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
4. **–í–∫–ª—é—á–∞—é—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—Ä–∞—Ç–Ω–æ**
5. **–°–æ–∑–¥–∞—é—Ç—Å—è –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–Ω–æ–≤–æ**
6. **–£–¥–∞–ª—è—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã/–ø—Ä–æ—Ü–µ–¥—É—Ä—ã/–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
7. **–°–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã**
8. **–í—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ** (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

–ü—Ä–∏ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–µ:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚ö†Ô∏è **–í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!**
- ‚ö†Ô∏è –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
- ‚ö†Ô∏è –í—Å–µ –∑–∞—è–≤–∫–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
- ‚ö†Ô∏è –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç —Å–±—Ä–æ—à–µ–Ω—ã

**–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–æ–º!**

---

## üíæ –ë—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–æ–º

```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
mysqldump -u warranty_user -p warranty_saas > backup_$(date +%Y%m%d_%H%M%S).sql

# –ü–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
mysql -u warranty_user -p warranty_saas < database.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)
mysql -u warranty_user -p warranty_saas < backup_20251031_123456.sql
```

---

## üêõ –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –µ—Å—Ç—å –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "DELIMITER command not supported"

**–†–µ—à–µ–Ω–∏–µ 1**: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (–Ω–µ phpMyAdmin)
```bash
mysql -u warranty_user -p warranty_saas < database.sql
```

**–†–µ—à–µ–Ω–∏–µ 2**: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ phpMyAdmin:
- –†–∞–∑–¥–µ–ª–∏—Ç–µ `database.sql` –Ω–∞ —á–∞—Å—Ç–∏
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä/—Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

---

### –ü—Ä–æ–±–ª–µ–º–∞: "FOREIGN KEY constraint fails"

**–†–µ—à–µ–Ω–∏–µ**: –ë–∞–∑–∞ —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ, –Ω–æ –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –µ—Å—Ç—å:

```sql
SET FOREIGN_KEY_CHECKS = 0;
SOURCE /path/to/database.sql;
SET FOREIGN_KEY_CHECKS = 1;
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: "Access denied"

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```sql
GRANT ALL PRIVILEGES ON warranty_saas.* TO 'warranty_user'@'localhost';
FLUSH PRIVILEGES;
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
mysql -u warranty_user -p warranty_saas -e "SHOW TABLES;"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 6 —Ç–∞–±–ª–∏—Ü:
# - users
# - form_design
# - form_integrations
# - form_submissions
# - sessions
# - activity_logs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
mysql -u warranty_user -p warranty_saas -e "SELECT email, role FROM users WHERE role='admin';"

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: sundoze87@gmail.com
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–∏–º–ø–æ—Ä—Ç–∞.

---

**–ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –¢–µ–ø–µ—Ä—å database.sql –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.** ‚úÖ
